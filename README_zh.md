# pyExecuter

| [English](README.md) | 中文 |
| --- | --- |

pyExecuter 是一个基于 [devchat-ai/gopool](https://github.com/devchat-ai/gopool) 的高性能 Python 脚本执行程序。它利用 Go 的并行处理能力和 Python 的灵活性，提供了一个强大、高效且可扩展的 Python 脚本执行解决方案。

## 特性

### 1. 并行任务调度 ✅
- 利用 devchat-ai/gopool 的 Goroutines 池进行高效的并发任务管理
- 基于 CPU 和内存资源实现智能任务调度
- 动态将 Python 脚本任务分配到工作池以最大化资源利用

### 2. 任务队列管理 ✅
- 支持基于优先级的任务队列，以执行紧急任务
- 提供 FIFO 和 LIFO 队列模式，以适应不同的任务处理需求
- 包含失败任务的自动重试机制

### 3. 多线程和多进程选项
- 提供灵活的 Python 脚本执行模式，支持多线程和多进程
- 根据任务类型（如 CPU 密集型 vs I/O 密集型）自动选择适当的执行模式

### 4. 负载均衡和资源管理
- 实现高效的负载均衡，均匀分配系统资源
- 根据当前系统资源使用情况动态调整并发任务数
- 利用 devchat-ai/gopool 的内置机制，将 Goroutines 控制在合理范围内

### 5. 任务监控和日志记录
- 提供详细的任务监控，实时跟踪 Python 脚本的执行状态、运行时间和资源消耗
- 记录全面的任务执行日志，包括开始/结束时间、输出和错误信息
- 提供基于 Web 的仪表板，可视化任务状态和资源利用情况

### 6. 故障处理和恢复机制
- 自动捕获异常并记录失败任务的详细错误信息
- 支持可配置的任务重试，可自定义重试次数和间隔
- 实现任务恢复机制，在意外崩溃后从之前的状态恢复执行

### 7. 多节点支持和分布式执行
- 支持分布式环境，可在多个节点上执行任务
- 提供节点间通信和同步机制
- 利用轻量级 RPC 或消息队列（如 Redis、RabbitMQ）进行任务分发和结果收集

### 8. 任务超时控制
- 为每个 Python 任务设置执行超时，防止资源占用
- 自动终止并清理超时任务的资源

### 9. 结果收集和处理
- 自动收集并以结构化格式（如数据库或文件）存储任务结果
- 提供统一的结果聚合接口，便于检索和处理
- 支持回调函数，用于自定义结果处理逻辑

### 10. 高性能 Python 脚本执行接口 ✅
- 提供灵活的 Python 执行接口，支持动态参数传递
- 支持动态执行作为字符串传递的 Python 代码
- 与 Python 虚拟环境集成，实现依赖隔离

### 11. REST API 和 WebSocket 支持
- 提供 REST API 用于任务提交、状态查询和结果检索
- 实现 WebSocket 用于实时任务状态监控

### 12. 可配置性和可扩展性
- 提供可配置的执行参数（如并发级别、最大资源使用、日志级别）
- 支持基于插件的扩展，可添加新的任务类型、监控工具等

### 13. 安全控制
- 在隔离环境中执行任务，防止恶意脚本造成系统威胁
- 利用沙箱技术（如 Docker 或虚拟环境）实现任务隔离
- 实现身份验证机制，确保只有授权用户可以提交和管理任务

### 14. 数据持久化和任务状态管理
- 持久化任务状态（待处理、运行中、已完成、失败），以便程序重启后恢复
- 支持长时间运行任务的中间状态定期保存

### 15. 灵活的任务依赖管理
- 支持任务依赖定义
- 使用有向无环图（DAG）管理任务依赖，实现高效有序的执行

## 安装

[pyExecuter 的安装说明]

## 使用

[基本使用示例和代码片段]

## 配置

[pyExecuter 的配置详情]

## 贡献

我们欢迎对 pyExecuter 的贡献！请查看我们的 [CONTRIBUTING.md](CONTRIBUTING.md) 文件，了解如何开始贡献。

## 许可证

[您选择的许可证]

## 联系方式

[您的联系信息或项目维护者详情]

## 致谢

- [devchat-ai/gopool](https://github.com/devchat-ai/gopool) 提供了基础的 Goroutines 池实现。
- [任何其他您想致谢的库或资源]